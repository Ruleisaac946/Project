<head>
    <%= stylesheet_link_tag 'post' %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <style>
    .heart-btn {
      color: #000; /* Default color for the heart button */
    }
    .heart-btn.active {
      color: #ff0000; /* Red color for the active (liked) state */
    }

    .save-btn {
      color: #000; /* Default color for the buttons */
    }
    .save-btn.active {
      color: #ffd700; /* Yellow color for the active (saved) state */
      
    }
    .save-btn.active .bi-bookmark-fill {
      color: #ffd700; /* Set the filled icon color to match the background when active */
    }
  </style>
</head>

<body>
    <% @posts.each do |post| %>
        <div class = "post card mb-3">
            <%= post.content %>
            <%= image_tag post.picture if post.picture.attached? %>
            <div class="butons">
                <button class="heart-btn" onclick="toggleHeart(this)"><i class="bi bi-heart"></i></button>
                <button><i class="bi bi-chat"></i></button>
                <button><i class="bi bi-arrow-repeat"></i></button>
                <button class="save-btn" onclick="toggleSave(this)"><i class="bi bi-bookmark"></i></button>
            </div>
        </div>
    <% end %>

    <script>
        function toggleHeart(button) {
            button.classList.toggle('active');
            const heartIcon = button.querySelector('.bi-heart');
            // Toggle between outline and filled heart icons
            heartIcon.classList.toggle('bi-heart-fill', button.classList.contains('active'));
            }

        function toggleSave(button) {
      button.classList.toggle('active');
      const saveIcon = button.querySelector('.bi-bookmark');

      // Toggle between outline and filled save icons
      saveIcon.classList.toggle('bi-bookmark-fill', button.classList.contains('active'));
    }
  </script>
</body>